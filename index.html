<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ruqyah Player</title>
<style>
body{margin:0;font-family:Segoe UI;background:#0d3b2e;color:white;text-align:center;padding:20px;}
button{padding:12px 20px;margin:10px;border:none;border-radius:6px;font-size:16px;cursor:pointer;}
.play{background:gold;}
.stop{background:#b22222;color:white;}
.status{margin-top:15px;font-size:18px;color:#ffd700;}
</style>
</head>
<body>

<h1>Ruqyah Recitation</h1>
<button class="play" onclick="start()">▶ Start</button>
<button class="stop" onclick="stop()">⏹ Stop</button>
<div class="status" id="status"></div>

<audio id="player"></audio>

<script>
const audio = document.getElementById("player");

// stable surah audio files from quranicaudio.com
const playlist = [
  {name:"Surah Al-Fatiha", url:"https://download.quranicaudio.com/quran/abdullaah_alee_jaabir_studio/001.mp3"},
  {name:"Surah Al-Ikhlas", url:"https://download.quranicaudio.com/quran/abdullaah_alee_jaabir_studio/112.mp3"},
  {name:"Surah Al-Falaq", url:"https://download.quranicaudio.com/quran/abdullaah_alee_jaabir_studio/113.mp3"},
  {name:"Surah An-Nas", url:"https://download.quranicaudio.com/quran/abdullaah_alee_jaabir_studio/114.mp3"},
  {name:"Surah Al-Baqarah", url:"https://download.quranicaudio.com/quran/abdullaah_alee_jaabir_studio/002.mp3"}
];

let index=0, repeat=0, playing=false;

function start() {
  if(playing) return;
  playing = true;
  index = 0;
  repeat = 0;
  playNext();
}

function playNext(){
  if(index>=playlist.length){
    document.getElementById("status").innerText="Completed";
    playing=false;
    return;
  }
  audio.src = playlist[index].url;
  audio.play();
  document.getElementById("status").innerText=
    playlist[index].name+" ("+(repeat+1)+"/3)";
}

audio.onended = function(){
  if(!playing) return;
  repeat++;
  if(repeat<3){
    audio.play();
    document.getElementById("status").innerText=
      playlist[index].name+" ("+(repeat+1)+"/3)";
  } else {
    repeat=0;
    index++;
    playNext();
  }
}

function stop(){
  audio.pause();
  audio.currentTime=0;
  playing=false;
  document.getElementById("status").innerText="Stopped";
}
</script>

</body>
</html>
